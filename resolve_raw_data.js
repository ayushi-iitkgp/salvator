const TO_REMOVE = 'View Friendship';
const TO_TEST = '<ul class="_tzl"><li class="_tzm"><div class="clearfix"><div class="_8o _8t lfloat _ohe _38vo"><img class="_s0 _4ooo _44ma img" src="https://scontent.fccu7-1.fna.fbcdn.net/v/t1.0-1/p74x74/30698771_1779643082099376_1053324120705466368_n.jpg?_nc_cat=0&amp;oh=8e65730a0b212193c602edbe32b1c853&amp;oe=5BA99EE2" alt="" aria-label="Akshit Lonare" role="img" style="width:72px;height:72px"></div><div class="_42ef"><div class="_6a"><div class="_6a _6b" style="height:50px"></div><div class="_6a _6b"><div class="_6a _5u5j"><div class="_6a _6b" style="height:72px"></div><div class="_6a _5u5j _6b"><div class="_tzn"><a href="https://www.facebook.com/akshit.lonare" data-hovercard="/ajax/hovercard/user.php?id=100001611037408" data-hovercard-prefer-more-content-show="1">Akshit Lonare</a></div><form rel="async" class="uiStreamInlineAction _tzo" action="/ajax/stream/inline.php" method="post" onsubmit="return window.Event &amp;&amp; Event.__inlineSubmit &amp;&amp; Event.__inlineSubmit(this,event)" id="u_0_13"><input type="hidden" name="fb_dtsg" value="AQF9Z3PlJ3aw:AQED6IvAedFp" autocomplete="off"><div class="formWrapper"><input type="hidden" autocomplete="off" name="walltarget" value="100001611037408"><input type="hidden" autocomplete="off" name="render_notif_only" value="1"><input type="hidden" autocomplete="off" name="birthday" value="1"><div class="uiMentionsInput" id="u_0_14"><div class="highlighter"><div><span class="highlighterContent"></span></div></div><div class="uiTypeahead mentionsTypeahead" data-ft="{&quot;tn&quot;:&quot;+Q&quot;}" id="u_0_7"><div class="wrap"><input type="hidden" autocomplete="off" class="hiddenInput"><div class="innerWrap"><textarea class="enter_submit uiTextareaNoResize uiTextareaAutogrow uiStreamInlineTextarea inlineReplyTextArea mentionsTextarea textInput" title="Write a birthday wish on his timeline..." placeholder="Write a birthday wish on his timeline..." name="message" cols="48" role="textbox" aria-autocomplete="list" autocomplete="new-password" aria-expanded="false" aria-controls="typeahead_list_u_0_7" aria-haspopup="true" id="u_0_15"></textarea></div></div></div><input type="hidden" autocomplete="off" class="mentionsHidden"></div><label class="hidden_elem"><input name="post" value="Post" type="submit" class="enter_submit_target"></label></div><input type="hidden" autocomplete="off" name="source" value="birthdays_home"></form><div class="_tzq fsm fwn fcg"><a href="https://www.facebook.com/friendship/100003382485275/100001611037408/">View Friendship</a></div></div></div></div></div></div></div></li><li class="_tzm"><div class="clearfix"><div class="_8o _8t lfloat _ohe _38vo"><img class="_s0 _4ooo _44ma img" src="https://scontent.fccu7-1.fna.fbcdn.net/v/t1.0-1/c0.0.74.74/p74x74/23561734_1933135257006379_4948110352924002653_n.jpg?_nc_cat=0&amp;oh=bbc36ebee5d32b61e960e77aa5feac33&amp;oe=5BA71CC1" alt="" aria-label="Kriti Dabla" role="img" style="width:72px;height:72px"></div><div class="_42ef"><div class="_6a"><div class="_6a _6b" style="height:50px"></div><div class="_6a _6b"><div class="_6a _5u5j"><div class="_6a _6b" style="height:72px"></div><div class="_6a _5u5j _6b"><div class="clearfix _691z"><div class="_tzn lfloat _ohe"><a href="https://www.facebook.com/profile.php?id=100009297717761" data-hovercard="/ajax/hovercard/user.php?id=100009297717761" data-hovercard-prefer-more-content-show="1">Kriti Dabla</a></div><div class="_fbBirthdays__age rfloat _ohf fsm fwn fcg">18 years old</div></div><form rel="async" class="uiStreamInlineAction _tzo" action="/ajax/stream/inline.php" method="post" onsubmit="return window.Event &amp;&amp; Event.__inlineSubmit &amp;&amp; Event.__inlineSubmit(this,event)" id="u_0_16"><input type="hidden" name="fb_dtsg" value="AQF9Z3PlJ3aw:AQED6IvAedFp" autocomplete="off"><div class="formWrapper"><input type="hidden" autocomplete="off" name="walltarget" value="100009297717761"><input type="hidden" autocomplete="off" name="render_notif_only" value="1"><input type="hidden" autocomplete="off" name="birthday" value="1"><div class="uiMentionsInput" id="u_0_17"><div class="highlighter"><div><span class="highlighterContent"></span></div></div><div class="uiTypeahead mentionsTypeahead" data-ft="{&quot;tn&quot;:&quot;+Q&quot;}" id="u_0_4"><div class="wrap"><input type="hidden" autocomplete="off" class="hiddenInput"><div class="innerWrap"><textarea class="enter_submit uiTextareaNoResize uiTextareaAutogrow uiStreamInlineTextarea inlineReplyTextArea mentionsTextarea textInput" title="Write a birthday wish on her timeline..." placeholder="Write a birthday wish on her timeline..." name="message" cols="48" role="textbox" aria-autocomplete="list" autocomplete="new-password" aria-expanded="false" aria-controls="typeahead_list_u_0_4" aria-haspopup="true" id="u_0_18"></textarea></div></div></div><input type="hidden" autocomplete="off" class="mentionsHidden"></div><label class="hidden_elem"><input name="post" value="Post" type="submit" class="enter_submit_target"></label></div><input type="hidden" autocomplete="off" name="source" value="birthdays_home"></form><div class="_tzq fsm fwn fcg"><a href="https://www.facebook.com/friendship/100003382485275/100009297717761/">View Friendship</a></div></div></div></div></div></div></div></li><li class="_tzm"><div class="clearfix"><div class="_8o _8t lfloat _ohe _38vo"><img class="_s0 _4ooo _44ma img" src="https://scontent.fccu7-1.fna.fbcdn.net/v/t1.0-1/p74x74/29258256_1567387543377304_1998124812945455269_n.jpg?_nc_cat=0&amp;oh=10b53c12de561aa4e38d297f43677141&amp;oe=5BA6A03F" alt="" aria-label="Ankit Gadge" role="img" style="width:72px;height:72px"></div><div class="_42ef"><div class="_6a"><div class="_6a _6b" style="height:50px"></div><div class="_6a _6b"><div class="_6a _5u5j"><div class="_6a _6b" style="height:72px"></div><div class="_6a _5u5j _6b"><div class="_tzn"><a href="https://www.facebook.com/ankiit15" data-hovercard="/ajax/hovercard/user.php?id=100003182217884" data-hovercard-prefer-more-content-show="1">Ankit Gadge</a></div><form rel="async" class="uiStreamInlineAction _tzo" action="/ajax/stream/inline.php" method="post" onsubmit="return window.Event &amp;&amp; Event.__inlineSubmit &amp;&amp; Event.__inlineSubmit(this,event)" id="u_0_19"><input type="hidden" name="fb_dtsg" value="AQF9Z3PlJ3aw:AQED6IvAedFp" autocomplete="off"><div class="formWrapper"><input type="hidden" autocomplete="off" name="walltarget" value="100003182217884"><input type="hidden" autocomplete="off" name="render_notif_only" value="1"><input type="hidden" autocomplete="off" name="birthday" value="1"><div class="uiMentionsInput" id="u_0_1a"><div class="highlighter"><div><span class="highlighterContent"></span></div></div><div class="uiTypeahead mentionsTypeahead" data-ft="{&quot;tn&quot;:&quot;+Q&quot;}" id="u_0_a"><div class="wrap"><input type="hidden" autocomplete="off" class="hiddenInput"><div class="innerWrap"><textarea class="enter_submit uiTextareaNoResize uiTextareaAutogrow uiStreamInlineTextarea inlineReplyTextArea mentionsTextarea textInput" title="Write a birthday wish on his timeline..." placeholder="Write a birthday wish on his timeline..." name="message" cols="48" role="textbox" aria-autocomplete="list" autocomplete="new-password" aria-expanded="false" aria-controls="typeahead_list_u_0_a" aria-haspopup="true" id="u_0_1b"></textarea></div></div></div><input type="hidden" autocomplete="off" class="mentionsHidden"></div><label class="hidden_elem"><input name="post" value="Post" type="submit" class="enter_submit_target"></label></div><input type="hidden" autocomplete="off" name="source" value="birthdays_home"></form><div class="_tzq fsm fwn fcg"><a href="https://www.facebook.com/friendship/100003382485275/100003182217884/">View Friendship</a></div></div></div></div></div></div></div></li><li class="_tzm"><div class="clearfix"><div class="_8o _8t lfloat _ohe _38vo"><img class="_s0 _4ooo _44ma img" src="https://scontent.fccu7-1.fna.fbcdn.net/v/t1.0-1/p74x74/24232022_1762313823840161_8142909365351861424_n.jpg?_nc_cat=0&amp;oh=04ad02c3e2d534c7f64cf816a258b1d2&amp;oe=5BAACEA8" alt="" aria-label="Gaurav Khurana" role="img" style="width:72px;height:72px"></div><div class="_42ef"><div class="_6a"><div class="_6a _6b" style="height:50px"></div><div class="_6a _6b"><div class="_6a _5u5j"><div class="_6a _6b" style="height:72px"></div><div class="_6a _5u5j _6b"><div class="_tzn"><a href="https://www.facebook.com/gaurav.khurana.3382" data-hovercard="/ajax/hovercard/user.php?id=100001846801573" data-hovercard-prefer-more-content-show="1">Gaurav Khurana</a></div><form rel="async" class="uiStreamInlineAction _tzo" action="/ajax/stream/inline.php" method="post" onsubmit="return window.Event &amp;&amp; Event.__inlineSubmit &amp;&amp; Event.__inlineSubmit(this,event)" id="u_0_1c"><input type="hidden" name="fb_dtsg" value="AQF9Z3PlJ3aw:AQED6IvAedFp" autocomplete="off"><div class="formWrapper"><input type="hidden" autocomplete="off" name="walltarget" value="100001846801573"><input type="hidden" autocomplete="off" name="render_notif_only" value="1"><input type="hidden" autocomplete="off" name="birthday" value="1"><div class="uiMentionsInput" id="u_0_1d"><div class="highlighter"><div><span class="highlighterContent"></span></div></div><div class="uiTypeahead mentionsTypeahead" data-ft="{&quot;tn&quot;:&quot;+Q&quot;}" id="u_0_9"><div class="wrap"><input type="hidden" autocomplete="off" class="hiddenInput"><div class="innerWrap"><textarea class="enter_submit uiTextareaNoResize uiTextareaAutogrow uiStreamInlineTextarea inlineReplyTextArea mentionsTextarea textInput" title="Write a birthday wish on his timeline..." placeholder="Write a birthday wish on his timeline..." name="message" cols="48" role="textbox" aria-autocomplete="list" autocomplete="new-password" aria-expanded="false" aria-controls="typeahead_list_u_0_9" aria-haspopup="true" id="u_0_1e"></textarea></div></div></div><input type="hidden" autocomplete="off" class="mentionsHidden"></div><label class="hidden_elem"><input name="post" value="Post" type="submit" class="enter_submit_target"></label></div><input type="hidden" autocomplete="off" name="source" value="birthdays_home"></form><div class="_tzq fsm fwn fcg"><a href="https://www.facebook.com/friendship/100003382485275/100001846801573/">View Friendship</a></div></div></div></div></div></div></div></li></ul>';

async function resolveNames(raw_names) {
    const fullNames = raw_names.split('\n\n');
    for (let i=fullNames.length; i--; ){
        fullNames[i] = fullNames[i].replace('\n', '');
        if (fullNames[i] === TO_REMOVE) {
            fullNames.splice(i, 1);
        }
    }
    let firstNames = [];
    fullNames.forEach(fullName => {
        let nameBreakdown = fullName.split(' ');
        firstNames.push(nameBreakdown[0]);
    });
    return {
        fullNames,
        firstNames
    }
}

async function resolveLinks(raw_links=TO_TEST){
    const htmlParser = new DOMParser();
    const htmlDoc = htmlParser.parseFromString(TO_TEST, 'text/html');

    const allLinks = htmlDoc.getElementsByTagName('a');
    console.log(allLinks);
}

resolveLinks();

module.exports = {resolveNames, resolveLinks};